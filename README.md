# 开发记录

### 已完成：

- 完善 ”登录页面“ 加载组件显示问题，=》最终完善

- 一级菜单静态页面已完成
- “首页” 和 “学习” 页面接口完成，可实现多种查看方式
- 二级页面 “作业” 多题型静态页面实现

### 待完成：

- “首页” 和 “学习” 页面列表二级页面和接口实现，即 ”作业“ 和 ”导学案“ 等
- ”作业“ 接口实现，显示和提交等
- 其他列表项功能实现

## 2023-03-20

### 待完成

- “作业” 接口实现，实现作业的 “查看” 和 答案提交

### 已完成

- 了解 “作业” 接口数据结构，完成 单选题 的绑定显示。

**问题：题面数据以HTML的格式表示，暂时没有找到能够很好解析HTML文字+图片的方法。**
* 将HTMLUtils的单例模式改成多例模式，才能多页面显示 *

## 2023-03-21

### 已完成

- 尝试 textView 解析 HTML 代码并自定义异步请求图片代码。 *缺点：图片的style属性（大小、位置）无法实现。*
- 方案二：使用 WebView 组件进行 HTML 代码解析，一步就直接全部解决了，效果像是一个图片。
- 多种题型显示和适配
- 解决了查询时弹出键盘将底部菜单挤上去的BUG
- 优化了查询时回车键搜索\

### 未完成

- 完善题型显示，完善提交题面。

## 2023-03-22

### 已完成

- 修复主页列表item标题在新手机上不适配问题
- 优化主页列表item标题对齐显示
- 优化主页标题item整体效果，新手机显示适配
- 优化题面翻页速度，ViewPager动画减慢
- 完成简答题型拍照和图库选择两种功能

### 待完成

- 简答题答题逻辑实现
- 提交后答题列表展示
- 提交作业答案

## 2023-03-23

### 已完成

- 主观题页面设计，将答题面板用 WebView 显示，需要解决 Android 到 HTML 的转换。
- 微调作业页面布局
- 实现目录切换作业页面

### 待完成

- 简答题图片显示，包括本地图片和照相机图片。
- 将图片资源uri转化为img标签格式

## 2023-03-24

### 已完成

- 分析主观题提交接口格式

- 实现 WebView 加载原生 JS 代码


## 2023-03-25

### 已完成

- 尝试接口Base64上传图片，一直失败，周一询问后端人员
- 最终方案敲定：显示图片文字用Web方式，与上传答案格式一直，
- 图片放大效果通过JS调用Android的方式，在Android中用PopupWindow和ViewPager做图片弹窗和翻页效果。
- 方案还没完全解决，待实现...

## 2023-03-26

- 测试方案可行性Demo
- 测试ViewPager相册功能，通过Drawable显示
- 测试Drawable转Base64
- 测试接口

## 2023-03-27

### 已完成

- 上传照片接口测试成功（与后台老师沟通，发现原因是HTTP将“+”号转义为了“ ”，测吐了都）

- 重新设计方案，采用中间转换器，来兼容当前版本和RN版本的数据显示和统一。大图也用WebView显示

- 完成学生作答情况接口显示。


## 2023-03-28

### 已完成

- 分析单选，多选和简答题 后台接口格式，测试实现显示和上传

- 实现答案提交展示的功能，真正的提交暂时没有实施，怕污染数据库。


## 2023-03-29

### 已完成

- 优化答案提交展示页面，点击调转回对应试题。
- 给顶栏眼睛设置跳转提交界面
- 添加并设置提交试题答案

## 2023-03-30

### 已完成

- 添加点击大图效果
- 修复点击大图重置为0号图
- 修复点击大图ViewPager图片重复
- 测试拍照上传，调整图片大小。效果不好，同时有拍照中断返回有BUG

## 2023-03-31

### 已完成
